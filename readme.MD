# DOGUIN

---

<p align="center">
  <img src="https://github.com/user-attachments/assets/69950ba2-41e4-4fed-b5e5-b24a75a456dd">
</p>

<p align="center">
   <img src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fgithub.com%2FDogUin-Community%2Fdoguin&count_bg=%2379C83D&title_bg=%23555555&icon=conda-forge.svg&icon_color=%23FFFFFF&title=hits&edge_flat=false">
</p>

# Community & Outsourcing Web Page [1.0]

---
> 개발 기간 : 2024.10 ~ 2024.11

## 배포 주소

---
> [도구인 웹 사이트](여기 주소)

## 팀원 소개

---

| 이름  | 역할  | GitHub URL                                             |
|-----|-----|--------------------------------------------------------|
| 유태이 | 팀장  | [유태이 깃허브](https://github.com/tiyu25)                   |
| 김경민 | 부팀장 | [김경민 깃허브](https://github.com/kkm4512?tab=repositories) |
| 최욱연 | 팀원  | [최욱연 깃허브](https://github.com/chukye1216)               |
| 황윤서 | 팀원  | [황윤서 깃허브](https://github.com/yunseohhe)                |
| 김창민 | 팀원  | [김창민 깃허브](https://github.com/Rlackdals981010)          |

## 프로젝트 소개

---
`도구인`은 개발자 커뮤니티와 개발 외주&수주를 한번에 지원하는 웹 사이트 입니다.

개발자가 되고자 하는 사람들과 주니어 개발자들이 여러 가지 카테고리의 게시글을 이용해 정보를 얻고, 시니어 개발자들은 각자의 생각을 공유하며 개발 실력을 발전시키는 웹 사이트를 목적으로 두고 있습니다.

혹은 특정 프로젝트에서 개발업이 필요한 사람들을 위한 외주 매칭 시스템을 지원합니다. 쇼핑몰과 같이 개발과 동 떨어진 업을 가졌지만, 효과적인 업무를 위해 개발자가 필요하신 분들과 



### 개발 환경

| 이름                                                                                                                        | 버전                                        |
|---------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
| ![인텔리제이](   https://img.shields.io/badge/IntelliJ_IDEA-000000.svg?style=for-the-badge&logo=intellij-idea&logoColor=white) | IntelliJ IDEA 2024.1.4 (Ultimate Edition) |
| ![스프링부트](https://img.shields.io/badge/SpringBoot-6db33f?style=for-the-badge&logo=springboot&logoColor=white)              | 3.3.4                                     |
| ![자바](https://img.shields.io/badge/Java-ED8B00?style=for-the-badge&logo=openjdk&logoColor=white)                          | 17                                        |

## STACK

---

### Environment

![인텔리제이](   https://img.shields.io/badge/IntelliJ_IDEA-000000.svg?style=for-the-badge&logo=intellij-idea&logoColor=white) ![깃허브](https://img.shields.io/badge/GitHub-100000?style=for-the-badge&logo=github&logoColor=white)

### Config

![Gradle](https://img.shields.io/badge/Gradle-02303A.svg?style=for-the-badge&logo=Gradle&logoColor=white)

### Development

![자바](https://img.shields.io/badge/Java-ED8B00?style=for-the-badge&logo=openjdk&logoColor=white) ![스프링](https://img.shields.io/badge/Spring-6DB33F?style=for-the-badge&logo=spring&logoColor=white)  ![AWS](https://img.shields.io/badge/Amazon_AWS-232F3E?style=for-the-badge&logo=amazon-aws&logoColor=white)

### Communication

![슬랙](https://img.shields.io/badge/Slack-4A154B?style=for-the-badge&logo=slack&logoColor=white) ![노션](https://img.shields.io/badge/Notion-000000?style=for-the-badge&logo=notion&logoColor=white) ![줌](https://img.shields.io/badge/Zoom-2D8CFF?style=for-the-badge&logo=zoom&logoColor=white)

### Deploy

![젠킨스](https://img.shields.io/badge/Jenkins-D24939?style=for-the-badge&logo=Jenkins&logoColor=white)

# 화면 구성

---

여기에 화면 캡쳐

# 주요 기능
[API 명세 바로가기](https://github.com/DogUin-Community/doguin/blob/dev/api.MD)
---

## 1. 커뮤니티
- ### 자유 게시판 : 
  - 사용자가 자유롭게 의견을 공유하고 정보를 나눌 수 있는 공간입니다.
  - 기능: 게시글 작성, 댓글 달기, 좋아요 기능 제공
- ### 질문 게시판
  - 개발 관련 질문과 답변을 나누는 공간으로, 유저들이 지식을 공유할 수 있도록 합니다.
  - 기능: 질문 작성, 답변 작성, 채택 기능 및 베스트 답변 표시로 유용한 정보를 강조
- ### 1대1 문의 게시판
  - 1대1 문의가 가능한 공간으로, 개인화된 질문과 답변을 위한 게시판입니다.
  - 기능: 개인별 문의 작성 및 답변 제공, 실시간 답변 알림 기능
- ### 공지 게시판
  - 중요하거나 공지할 사항을 유저들에게 전달하는 공간입니다.
  - 기능: 공지 작성, 수정, 삭제, 공지사항 목록 조회 및 상세 조회
- ### 신고 관리
  - 사용자가 부적절한 게시물이나 유저를 신고할 수 있는 기능입니다.
  - 기능: 신고 생성, 신고 처리, 신고 내역 조회 및 검색

## 2. 외주
- ### 외주 의뢰 등록 및 관리
  - 사용자가 프로젝트를 의뢰하고 관리할 수 있는 공간입니다.
  - 기능: 외주 의뢰 등록, 수정, 삭제, 의뢰 현황 조회 및 신청 현황 관리
- ### 외주 검색 및 신청
  - 사용자가 원하는 외주 프로젝트를 검색하고 지원할 수 있는 공간입니다.
  - 기능: 키워드 검색, 필터링(카테고리, 지역 등), 외주 상세 보기 및 신청하기
- ### 포트폴리오 관리
  - 사용자가 자신의 포트폴리오를 작성하고 관리할 수 있는 공간입니다.
  - 기능: 포트폴리오 작성, 수정, 삭제, 포트폴리오 목록 조회 및 상세 보기
- ### 매칭 관리
  - 외주 의뢰와 포트폴리오 간의 매칭을 관리하는 공간입니다.
  - 기능: 매칭 생성, 수정, 삭제, 매칭된 목록 조회


# 아키텍쳐

---

## ver 1
![도구인 ver1](https://github.com/user-attachments/assets/2ea49f52-3318-452a-b8db-7f1f3c81bbc6)


## ver 2
![도구인 ver 2](https://github.com/user-attachments/assets/9066ffbe-73c5-4f41-a46d-830d5355f309)

MSA 구조를 통해 시스템의 확장성과 안정성을 확보하고자 한 구조다.
본 구조의 문제점은 다음과 같다.
1. 프로젝트 스코프에 비해 과한 구조이다.


## ver 3 (Now)
![도구인 ver3](https://github.com/user-attachments/assets/2bf04107-fad5-47ba-9207-bac038d86cec)

기능 스코프에 맞춰 채팅, 접속 상태, 알림등을 API 서버와 통합하여 단일 서버로 지원하기로 했다.
사용자 경험을 위해 내장 캐시와 글로벌 캐시를 적용하였고, 데이터의 안전을 위해서 DB 이중화 구조로 변경하였다.


# 기술적 의사결정

---

## **1. Redis pub/sub 도입 이유**

>채팅 시스템의 실시간 반응성을 위해 메시지를 주고받는 속도가 중요했습니다.  
> 
>Redis의 메모리 기반 데이터 저장소 특성은 낮은 지연 시간으로 실시간성이 필요한 채팅 기능에 적합하다고 판단했습니다.

>### 문제 상황
>- MySQL과 같은 데이터베이스를 사용하여 실시간 채팅 메시지를 전달할 경우, 전송 속도가 저하되고 데이터베이스의 과부하가 우려되었습니다. 특히, 데이터베이스 접근이 빈번해질수록 시스템 성능에 부정적인 영향을 미칠 가능성이 컸습니다.
>### 해결 방안
>- Redis의 pub/sub 기능을 활용하여 실시간으로 메시지를 주고받도록 설계했습니다. 이를 통해 데이터베이스 의존성을 줄이고 메시지 전달 속도를 획기적으로 개선했습니다. 또한, Redis 클러스터를 통해 서버 확장 시 수평 확장이 가능하도록 대비했습니다.
>### 의견 조율
>- Redis vs. RabbitMQ vs. Kafka 등 다양한 메시지 큐 도구를 비교하여 검토했습니다.
>- Redis의 낮은 설정 복잡도와 빠른 개발 속도가 팀의 개발 일정에 적합하다고 판단했으며, 이후 Redis 클러스터링을 통해 확장 가능성을 충분히 고려할 수 있다는 점에서 의견이 일치했습니다.
>### 의사 결정
> - Redis pub/sub 도입을 최종 결정하였습니다. Redis는 빠른 데이터 처리와 구성의 용이성을 모두 충족하며, 확장성과 유지보수성 측면에서도 팀의 요구사항에 가장 적합한 선택이었습니다.

## **2. Redis 도입 이유**

>Redis는 수많은 기업에서 검증된 캐싱 도구로 널리 사용되며, 높은 신뢰성과 성능을 가지고 있어 프로젝트 요구사항에 부합한다고 판단하여 도입했습니다.

>### 문제 상황
>- 서비스에서 조회수가 증가할 때마다 MySQL에 UPDATE 쿼리가 발생하여 disk I/O 오버헤드 및 성능 저하 우려가 있었습니다.
>### 해결 방안
>- Redis를 캐싱 솔루션으로 사용하여 조회수 데이터를 메모리에 저장하고, 특정 주기마다 MySQL에 반영하는 방식을 채택했습니다.
>### 의견 조율
>- Redis 외에도 Memcached와 Apache Ignite를 고려했지만, 사용의 단순성과 설정 편리성에서 Redis가 적합하다고 의견이 모였습니다.
>### 의사 결정
> - Redis의 InMemory 특성과 스프링 부트 지원을 통해 설정과 관리가 용이하다는 점을 이유로 최종 결정하였습니다.

 # 인프라

---

# 성능 개선 : 트러블 슈팅

---
## **BE) S3 이미지 업로드 속도 문제 해결**

>동기 방식으로 S3에 이미지를 업로드할 때, 100개의 이미지 처리에 약 11초가 소요되는 성능 문제가 발생했다.
>비동기 통신을 적용하여 업로드를 별도 쓰레드에서 처리하도록 하여 응답 속도를 0.19초로 개선했다.
> 
>[S3 이미지 업로드 속도 문제 해결 과정](https://www.notion.so/teamsparta/f9d8b2492ff144e6bec6f4ec1e5bde97)

## **BE) 조회수 증가 시 성능 저하 문제 해결**

>사용자가 특정 게시글에 접근할 때마다 조회수가 증가되면서, MySQL에 update 쿼리가 빈번히 발생해 disk I/O 작업의 오버헤드 가능성이 우려되었습니다.
>Redis의 InMemory 특성을 활용하여 조회수를 Redis에 저장하고, 특정 주기마다 스케줄러를 통해 MySQL에 일괄 저장하는 방식으로 성능을 개선했습니다.
> 
>[조회수 증가 시 성능 저하 문제 해결 과정](https://www.notion.so/teamsparta/Board-4a1207474d4a4fc9b1318f26eec7c20b)


<!--
그 mysql, mongo, Redis, STOMP등등 그런거 어디에 넣지


-->
